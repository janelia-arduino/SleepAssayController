#+TITLE: SleepAssayController
#+AUTHOR: Peter Polidoro
#+EMAIL: peterpolidoro@gmail.com

* Library Information
  - Author :: Peter Polidoro
  - License :: BSD

* Ancestors

  [[https://github.com/janelia-arduino/ModularServer][ModularServer]]

  [[https://github.com/janelia-arduino/ModularDeviceBase][ModularDeviceBase]]

  [[https://github.com/janelia-arduino/HighPowerSwitchController][HighPowerSwitchController]]

* Clients

* Devices

  [[https://github.com/janelia-modular-devices/modular_device_base.git][modular_device_base]]

  [[https://github.com/janelia-modular-devices/high_power_switch_controller.git][high_power_switch_controller]]

* API NAMES

  #+BEGIN_SRC js
    {
      "id": "getApi",
      "result": {
        "firmware": [
          "SleepAssayController"
        ],
        "verbosity": "NAMES",
        "functions": [
          "getAssayStart",
          "getAssayEnd",
          "getAssayDuration",
          "getExperimentStart",
          "getExperimentEnd",
          "getExperimentDuration",
          "getEntrainmentStart",
          "getExperimentInfo",
          "getExperimentDayInfo",
          "addExperimentDay",
          "addExperimentDays",
          "addExperimentDayCopy",
          "addExperimentDayCopies",
          "removeLastExperimentDay",
          "removeAllExperimentDays",
          "setExperimentDayWhiteLight",
          "setExperimentDayRedLight",
          "setExperimentDayBuzzer",
          "getAssayStatus",
          "testWhiteLightPower",
          "testRedLightPower",
          "testBuzzerPower",
          "stopAllPowerTests"
        ],
        "parameters": [
          "experiment_day",
          "white_light",
          "red_light",
          "red_light_delay",
          "red_light_duration",
          "buzzer",
          "buzzer_delay",
          "buzzer_duration",
          "day_count"
        ],
        "properties": [
          "cameraTriggerChannel",
          "cameraTriggerFrequency",
          "whiteLightChannel",
          "whiteLightIndicatorChannel",
          "whiteLightPower",
          "whiteLightStartTime",
          "whiteLightOnDuration",
          "redLightChannel",
          "redLightIndicatorChannel",
          "redLightPower",
          "redLightFrequency",
          "redLightDutyCycle",
          "buzzerChannel",
          "buzzerIndicatorChannel",
          "buzzerPower",
          "buzzerOnDurationMin",
          "buzzerOnDurationMax",
          "buzzerWaitMin",
          "buzzerWaitMax",
          "entrainmentDuration",
          "recoveryDuration",
          "testingDayDuration"
        ],
        "callbacks": [
          "runAssay",
          "testAssay",
          "stopAssay"
        ]
      }
    }
  #+END_SRC

* API GENERAL

  [[./api/][API GENERAL]]

* More Detailed Modular Device Information

  [[https://github.com/janelia-modular-devices/modular-devices][modular-devices]]

* Library Dependencies

  [[https://github.com/janelia-arduino/arduino-libraries][arduino-libraries]]
